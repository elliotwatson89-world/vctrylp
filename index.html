<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>VCTRYLP.</title>

  <link rel="icon" href="/favicon.ico?v=9" />
  <link rel="stylesheet" href="style.css" />
</head>

<body>

  <!-- DESKTOP VIDEO ONLY -->
  <video
    id="splashVideo"
    class="splash-video"
    muted
    playsinline
    preload="auto"
  ></video>

  <!-- OVERLAY -->
  <div class="overlay">

    <!-- DESKTOP NAV (positioned relative to logo in video) -->
    <div class="bottomNav desktop-only">
      <a class="contact" href="mailto:info@vctrylp.global">CONTACT</a>
      <div class="logoSpacer"></div>
      <div class="treatment">TREATMENT WRITER</div>
    </div>

    <!-- MOBILE NAV (static, no animation) -->
    <div class="mobileNav mobile-only">
      <span class="contact">CONTACT</span>

      <img
        src="/logo-white.png"
        alt="VCTRYLP"
        class="mobileLogo"
      />

      <span class="treatment">
        TREATMENT<br>WRITER
      </span>
    </div>

  </div>

  <script>
    const video = document.getElementById("splashVideo");

    const DESKTOP_VIDEO = "/splash-horizontal.mp4";

    function isDesktop(){
      return window.innerWidth >= 769;
    }

    function setupDesktopVideo(){
      if (!isDesktop()) return;

      video.src = DESKTOP_VIDEO;
      video.load();

      video.addEventListener("loadedmetadata", () => {
        video.playbackRate = 1.0;
        video.play();
      });

      video.addEventListener("timeupdate", () => {
        if (video.duration && video.currentTime >= video.duration - 0.08){
          video.pause();
          video.currentTime = video.duration;
          document.querySelector(".bottomNav").classList.add("is-visible");
        }
      });
    }

    if (isDesktop()){
      setupDesktopVideo();
    }
  </script>

</body>
</html>

